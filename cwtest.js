    const subjectData = {
	
	// HISTORY I ---------------------------------------
	
      'his-ancient': {
        chapters: {
          
		  'stone-age': {
		  name: 'The Stone Age',
		  topics: {
'overall': { name: 'Overall Stone Age', link: 'https://testkeen.com/overall-sc' },
'stone_age': { name: 'Stone Age', link: 'https://testkeen.com/stone-age' },
'palaeolithic-age': { name: 'Palaeolithic Age', link: 'https://sites.google.com/view/cwtest/his-ancient/stone-age/paleolithic-age' },
'mesolithic-age': { name: 'Mesolithic Age', link: 'https://testkeen.com/mesolithic-age' },
'neolithic-age': { name: 'Neolithic Age', link: 'https://testkeen.com/neolithic-age' },
'chalcolithic-age': { name: 'Chalcolithic Age', link: 'https://testkeen.com/chalcolithic-age' },
		  }},		  
		  
          'indus-valley': {
		  name: 'Indus Valley Civilisation',
		  topics: {
'overall': { name: 'Overall IVC', link: 'https://testkeen.com/overall-ivc' },
'discovery': { name: 'Discovery', link: 'https://testkeen.com/discovery' },
'geographical_area': { name: 'Geographical Area', link: 'https://testkeen.com/geographical-area' },
'important-sites': { name: 'Important Sites', link: 'https://testkeen.com/important-sites' },
'major-characteristics': { name: 'Major Characteristics of H-Sites', link: 'https://testkeen.com/major-characteristics' },
'social-life': { name: 'Social Life', link: 'https://testkeen.com/social-life' },
'political-life': { name: 'Political Life', link: 'https://testkeen.com/political-life' },
'religious-life': { name: 'Religious Life', link: 'https://testkeen.com/religious-life' },
'economic-life': { name: 'Economic Life', link: 'https://testkeen.com/economic-life' },
'art-and-architecture': { name: 'Art and Architecture', link: 'https://testkeen.com/art-and-architecture' },
		  }},		  

		  
		  
          'vedic-age': {
		  name: 'The Vedic Age',
		  topics: {
'overall': { name: 'Overall Vedic Age', link: 'https://testkeen.com/overall-tve' },
'early_vedic_age': { name: 'Early Vedic Age (1500-1000 BC)', link: 'https://testkeen.com/early-vedic-age' },
'later_vedic_period': { name: 'Later Vedic Period (1000-600 BC)', link: 'https://testkeen.com/later-vedic-period' },
'indian_schools_of_philosophy': { name: 'Indian Schools of Philosophy', link: 'https://testkeen.com/indian-schools-of-philosophy' },
		  }},		  

		  
          'territorial-states': {
		  name: 'The First Territorial States',
		  topics: {
'overall': { name: 'Overall Territorial States', link: 'https://testkeen.com/overall-tstates' },
'mahajanapadas': { name: 'Mahajanapadas', link: 'https://testkeen.com/mahajanapadas' },
'rise-of-magadhan_empire': { name: 'Rise of Magadhan Empire', link: 'https://testkeen.com/rise-of-magadhan-empire' },
'haryanka-dynasty': { name: 'Haryanka Dynasty', link: 'https://testkeen.com/haryanka-dynasty' },
'shishunaga-dynasty': { name: 'Shishunaga Dynasty (412-344 BC)', link: 'https://testkeen.com/shishunaga-dynasty' },
'nanda-dynasty': { name: 'Nanda Dynasty (344-323 BC)', link: 'https://testkeen.com/nanda-dynasty' },
'pre-mauryan-economic-system': { name: 'Pre-Mauryan Economic System', link: 'https://testkeen.com/pre-mauryan-economic-system' },
'foreign-invasions': { name: 'Foreign Invasions', link: 'https://testkeen.com/foreign-invasions' },
'persian-invasion': { name: 'Persian Invasion', link: 'https://testkeen.com/persian-invasion' },
'greek-invasion': { name: 'Greek Invasion', link: 'https://testkeen.com/greek-invasion' },
			}},		  
		  
          'religious-movements': {
		  name: 'Religious Movements of Mahajanapada Age',
		  topics: {
'overall': { name: 'Overall Test', link: 'https://testkeen.com/overall-rmmatest' },
'jainism': { name: 'Jainism', link: 'https://testkeen.com/jainism' },
'philosophy_of_jainism': { name: 'Philosophy of Jainism', link: 'https://testkeen.com/philosophy-of-jainism' },
'decline_of_jainism': { name: 'Decline of Jainism', link: 'https://testkeen.com/decline-of-jainism' },
'buddhism': { name: 'Buddhism', link: 'https://testkeen.com/buddhism' },
'philosophy_of_buddhism': { name: 'Philosophy of Buddhism', link: 'https://testkeen.com/philosophy-of-buddhism' },
'decline_of_buddhism': { name: 'Decline of Buddhism', link: 'https://testkeen.com/decline-of-buddhism' },
'ajivikas': { name: 'Ajivikas', link: 'https://testkeen.com/ajivikas' },
			}},		  

          'mauryan-empire': {
            name: 'The Mauryan Empire',
            topics: {
'overall': { name: 'Overall Mauryan Empire', link: 'https://testkeen.com/overall-mauryan-empire' },
'ashoka': { name: 'Ashoka', link: 'https://testkeen.com/ashoka' },
'kautilya': { name: 'Kautilya', link: 'https://testkeen.com/kautilya' },
'mauryan-arts': { name: 'Mauryan Arts', link: 'https://testkeen.com/mauryan-arts' },
'mauryan-economy': { name: 'Mauryan Economy', link: 'https://testkeen.com/mauryan-economy' },
'later-mauryans': { name: 'Later Mauryans', link: 'https://testkeen.com/later-mauryans' }
			}},

          'sangam-age': {
            name: 'The Sangam Age',
            topics: {		  
'overall': { name: 'Overall Sangam Age', link: 'https://testkeen.com/overall-sangam-age' },
'early_kingdoms': { name: 'Early Kingdoms', link: 'https://testkeen.com/early-kingdoms' },
'chola_kingdom': { name: 'The Chola Kingdom', link: 'https://testkeen.com/chola-kingdom' },
'chera_kingdom': { name: 'The Chera Kingdom', link: 'https://testkeen.com/chera-kingdom' },
'pandyan_kingdom': { name: 'The Pandyan Kingdom', link: 'https://testkeen.com/pandyan-kingdom' },
			}},			
		  
          'post-mauryan': {
            name: 'Post-Mauryan Period',
            topics: {		  
'overall': { name: 'Overall Post-Mauryan Period', link: 'https://testkeen.com/overall-postmperiod' },
'archaeological_sources': { name: 'Archaeological Sources', link: 'https://testkeen.com/archaeological-sources' },
'literary_sources': { name: 'Literary Sources', link: 'https://testkeen.com/literary-sources' },
'indo_greeks': { name: 'Indo-Greeks', link: 'https://testkeen.com/indo-greeks' },
'scythians': { name: 'Scythians', link: 'https://testkeen.com/scythians' },
'parthians': { name: 'Parthians', link: 'https://testkeen.com/parthians' },
'kushanas': { name: 'Kushanas', link: 'https://testkeen.com/kushanas' },
			}},		  
		  
          'gupta-age': {
            name: 'The Gupta Age (AD 320-500)',
            topics: {		  
'overall': { name: 'Overall Gupta Age', link: 'https://testkeen.com/overall-gupta-age' },
'historical_sources': { name: 'Historical Sources', link: 'https://testkeen.com/historical-sources' },
'literary_sources': { name: 'Literary Sources', link: 'https://testkeen.com/literary-sources' },
'archaeological_sources': { name: 'Archaeological Sources', link: 'https://testkeen.com/archaeological-sources' },
'gupta_dynasty': { name: 'Gupta Dynasty', link: 'https://testkeen.com/gupta-dynasty' },
'coinage_system': { name: 'Coinage System', link: 'https://testkeen.com/coinage-system' },
'gupta_art_and_crafts': { name: 'Gupta Art and Crafts', link: 'https://testkeen.com/gupta-art-and-crafts' },
'decline_of_gupta_empire': { name: 'Decline of the Gupta Empire', link: 'https://testkeen.com/decline-of-gupta-empire' },
			}},		  
		  
          'post-gupta': {
            name: 'The Post-Gupta Era (AD 550-750)',
            topics: {		  
'overall': { name: 'Overall Post-Gupta Era', link: 'https://testkeen.com/overall-pguptaera' },
'ruling_dynasties_north_india': { name: 'Ruling Dynasties of North India', link: 'https://testkeen.com/ruling-dynasties-north-india' },
'ruling_dynasties_south_india': { name: 'Ruling Dynasties of South India', link: 'https://testkeen.com/ruling-dynasties-south-india' },
			}},
		  
        }
      },
	  
	  
	// HISTORY II ---------------------------------------

      'his-medieval': {
        chapters: {
		  'sultanate-of-delhi': 'The Sultanate of Delhi',
		  'provincial-kingdoms': 'Provincial Kingdoms',
		  'religious-movements': 'Religious Movements',
	      'mughal-empire': 'The Mughal Empire',
		  'maratha-mEmpire': 'The Maratha Empire',
          'mughal-decline': 'Mughal Decline and Rise of Regional States',
		  
		}
	  },		
	
	// HISTORY III ---------------------------------------
 
     'his-modern': {
        chapters: {
		
		}
	  }	





    };






    const subjectSelect = document.getElementById('subject');
    const chapterSelect = document.getElementById('chapter');
    const topicSelect = document.getElementById('topic');
    const selectedChapterText = document.getElementById('selected-chapter');
    const startTestButton = document.getElementById('start-test');

    subjectSelect.addEventListener('change', () => {
      const subject = subjectSelect.value;
      resetSelectors([chapterSelect, topicSelect]);
      disableElements([chapterSelect, topicSelect]);

      if (subject && subjectData[subject]) {
        populateSelect(chapterSelect, subjectData[subject].chapters, '-- Select Chapter --');
        chapterSelect.disabled = false;
      }
    });

    chapterSelect.addEventListener('change', () => {
      const chapter = chapterSelect.value;
      resetSelectors([topicSelect]);
      disableElements([topicSelect]);

      if (chapter && subjectData[subjectSelect.value].chapters[chapter]) {
        const chapterData = subjectData[subjectSelect.value].chapters[chapter];
        if (chapterData.topics) {
          populateSelect(topicSelect, chapterData.topics, '-- Select Topic --');
          topicSelect.disabled = false;
        } else {
          displaySelectedChapter(chapterData.name, chapterData.link);
        }
      }
    });

    topicSelect.addEventListener('change', () => {
      const topic = topicSelect.value;
      if (topic) {
        const chapterData = subjectData[subjectSelect.value].chapters[chapterSelect.value];
        const subChapterData = chapterData.topics[topic];
        displaySelectedChapter(subChapterData.name, subChapterData.link);
      }
    });

    startTestButton.addEventListener('click', () => {
      const testLink = startTestButton.dataset.link;
      if (testLink) {
        window.location.href = testLink;
      }
    });

    function populateSelect(selectElement, options, defaultText = '-- Select --') {
      selectElement.innerHTML = `<option value="">${defaultText}</option>`;
      for (const [value, text] of Object.entries(options)) {
        const option = document.createElement('option');
        option.value = value;
        option.textContent = text.name || text;
        selectElement.appendChild(option);
      }
    }

    function displaySelectedChapter(topicName, link) {
      selectedChapterText.textContent = `Selected topic: ${topicName}`;
      startTestButton.classList.add('active');
      startTestButton.disabled = false;
      startTestButton.dataset.link = link;
    }

    function resetSelectors(selectors) {
      selectors.forEach(select => {
        select.innerHTML = '<option value="">-- Select Topic --</option>';
      });
    }

    function disableElements(elements) {
      elements.forEach(el => {
        el.disabled = true;
      });
    }
